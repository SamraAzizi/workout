# Personal Fitness Tool

The **Personal Fitness Tool** is a web application designed to help users track and manage their fitness data, set personal goals, monitor nutrition, take notes, and interact with an AI assistant for personalized recommendations. Built using Streamlit, the app connects to a database hosted on Astra Datastax, leveraging LangFlow’s API to process user input and return insights based on fitness goals and activity levels.

## Features

1. **Personal Data Management**:
   - Allows users to input personal data, including name, age, weight, height, gender, and activity level.
   - Stores data in a database, enabling users to retrieve and update information over time.

2. **Goal Setting**:
   - Users can select fitness goals, such as muscle gain, fat loss, or staying active.
   - The app saves goals and provides tailored recommendations.

3. **Nutrition Tracking**:
   - Based on personal details and goals, users receive a macronutrient breakdown (calories, protein, fat, and carbs) generated by an AI.
   - Users can also manually adjust and save their macronutrient targets.

4. **Notes**:
   - Users can add, view, and delete personal notes related to fitness progress or goals.

5. **AI Assistant**:
   - An AI-powered assistant answers user queries related to fitness and nutrition, using LangFlow to generate responses based on the user’s profile data.

## Project Structure

### `main.py`
The main application file that initializes and runs the Streamlit app, defining UI elements, handling form submissions, and managing data interactions.

- **Forms and Functions**:
  - `personal_data_form()`: Manages the input form for personal data.
  - `goals_form()`: Lets users select fitness goals.
  - `macro()`: Displays the macronutrient information and interacts with AI to generate nutritional recommendations.
  - `notes()`: Allows users to add and manage notes.
  - `ask_ai_func()`: Enables users to ask fitness-related questions to an AI assistant.
- **Session Management**:
  - Uses `st.session_state` to manage user profile and note data across interactions.

### `form_submit.py`
Handles database operations for updating user information and managing notes.

- **Functions**:
  - `update_personal_info()`: Updates user profile data in the database.
  - `add_note()`: Inserts a new note into the database.
  - `delete_note()`: Deletes a note based on its unique ID.

### `db.py`
Manages the connection to the Astra Datastax database, including the initialization of collections.

- **Functions**:
  - `get_db()`: Establishes the database connection.
  - Creates `personal_data` and `notes` collections if they don’t exist.

### `ai.py`
Handles AI interactions using LangFlow's API.

- **Functions**:
  - `ask_ai()`: Sends a question to the AI along with the user’s profile data to receive a personalized response.
  - `get_macro()`: Generates macronutrient recommendations based on user goals and profile.
  - `run_flow()`: Helper function to send requests to the LangFlow API.

### `profile.py`
Manages profile-related data retrieval and creation.

- **Functions**:
  - `get_values()`: Provides a template for a new user profile.
  - `create_profile()`: Inserts a new profile into the database.
  - `get_profile()`: Retrieves a user profile by ID.
  - `get_notes()`: Retrieves notes associated with a specific user.

## Setup and Installation

### Prerequisites
- Python 3.8+
- Astra Datastax account and database
- Streamlit
- Required Python libraries: `requests`, `dotenv`, `pymongo`
